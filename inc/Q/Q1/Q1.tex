\begin{figure}[ht!]
\centering
\begin{tikzpicture}[>=latex',shorten >=1pt,node distance=3cm,on grid,auto]
    \node[state with output] (S0) {$S_0$ \nodepart{lower} $0$};
    \node[state with output] (S1) [below=of S0] {$S_1$ \nodepart{lower} $0$};
    \node[state with output] (S2) [below=of S1] {$S_2$ \nodepart{lower} $0$};
    \node[state with output] (S3) [below=of S2] {$S_3$ \nodepart{lower} $1$};

    \path[->] (S0) edge node {1} (S1);
    \path[->] (S1) edge node {0} (S2);
    \path[->] (S2) edge node {1} (S3);

    \path[->] (S0) edge [loop right] node {0} (S0);
    \path[->] (S1) edge [bend left] node {1} (S0);
    \path[->] (S2) edge [bend left=70, looseness=1] node {0} (S0);
    \path[->] (S3) edge [bend left] node {0} (S2);
    \path[->] (S3) edge [bend right=70, looseness=1] node {1} (S1);
  \end{tikzpicture}
  \label{fig:Q1}
    \caption{State Diagram for Q1}
\end{figure}\FloatBarrier

 